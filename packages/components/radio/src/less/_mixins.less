#oui {
  // Used by select-picker too
  .radio-base(
    @selector: oui-radio
  ) {
    #oui > .choice-base();
    #oui > .radio-size(@selector);
    #oui > .radio-color(@selector);

    &__label {
      &::before {
        content: '';
        position: absolute;
        border-style: solid;
        border-width: 1px;
        border-radius: 50%;
      }

      &::after {
        content: '';
        position: absolute;
        border-radius: 50%;
        visibility: hidden;
      }
    }

    // Radio - Checked state
    &__input:checked ~ &__label-container {
      #oui > .radio-color(
        @icon-outer-color: @oui-radio-icon-outer-color_checked
      );

      .@{selector}__label::after {
        visibility: visible;
      }
    }

    // Radio - Disabled state
    &__input:disabled {
      ~ .@{selector}__label-container {
        #oui > .radio-color(
          @icon-background-color: @oui-radio-icon-background-color_disabled,
          @icon-outer-color: @oui-radio-icon-outer-color_disabled,
          @icon-inner-color: @oui-radio-icon-inner-color_disabled
        );

        .@{selector}__label,
        .@{selector}__description,
        .@{selector}__section {
          color: @oui-radio-font-color_disabled;
        }
      }

      &,
      ~ .@{selector}__label-container {
        cursor: default;
        pointer-events: none;
      }
    }

    &__input:not(:disabled) {
      // Radio - Focused state
      &:focus ~ .@{selector}__label-container {
        .@{selector}__label::before {
          box-shadow: @oui-radio-box-shadow_focus;
        }
      }

      // Radio - Active state
      ~ .@{selector}__label-container:active {
        #oui > .radio-color(
          @icon-background-color: @oui-radio-icon-background-color_active,
          @icon-outer-color: @oui-radio-icon-outer-color_active,
          @icon-inner-color: @oui-radio-icon-inner-color_active
        );
      }

      // Radio - Hovered state
      ~ .@{selector}__label-container:not(:active):hover {
        #oui > .radio-color(
          @icon-outer-color: @oui-radio-icon-outer-color_hover
        );
      }

      &:checked ~ .@{selector}__label-container:not(:active):hover {
        #oui > .radio-color(
          @icon-outer-color: @oui-radio-icon-outer-color_checked-hover
        );
      }
    }
  }

  .radio-size(
    @selector: oui-radio,
    @line-height: @oui-radio-line-height,
    @font-size: @oui-radio-font-size,
    @icon-size: @oui-radio-icon-size
  ) {
    @bullet-size: calc(@icon-size / 2);
    @min-height: calc(@line-height * @font-size);

    .@{selector}__label {
      min-height: @min-height;
      line-height: @line-height;
      font-size: @font-size;

      &::before {
        width: @icon-size;
        height: @icon-size;
        top: calc((@min-height - @icon-size) / 2);
        left: 0;
      }

      &::after {
        width: @bullet-size;
        height: @bullet-size;
        top: calc((@min-height - @bullet-size) / 2);
        left: calc((@icon-size - @bullet-size) / 2);
      }
    }

    .@{selector}__label,
    .@{selector}__description {
      padding-left: @icon-size + @oui-radio-padding-left;
    }
  }

  .radio-color(
    @selector: oui-radio,
    @icon-background-color: @oui-radio-icon-background-color,
    @icon-outer-color: @oui-radio-icon-outer-color,
    @icon-inner-color: @oui-radio-icon-inner-color
  ) {
    .@{selector}__label::before {
      border-color: @icon-outer-color;
      background-color: @icon-background-color;
    }

    .@{selector}__label::after {
      background-color: @icon-inner-color;
    }
  }
}
