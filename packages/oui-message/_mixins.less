@import '../oui/_settings';
@import '../oui-color/_variables';
@import '../oui-icons/_mixins';
@import '../oui-tip/_mixins';
@import '../oui-animation/_mixins';
@import '../oui-accessibility/_mixins';
@import './_variables';

#oui {
  .message-base(
    @margin: @oui-message-margin;
    @font-size: @oui-message-font-size;
    @font-weight: @oui-message-font-weight;
    @font-color: @oui-message-font-color;
    @background-color: @oui-message-background-color;
    @border-color: @oui-message-border-color;
    @border-radius: @oui-message-border-radius;
    @padding: @oui-message-padding;
    @close-button-color: @oui-message-close-button-color;
    @close-button-background-color: @oui-message-close-button-background-color;
    @close-button-border: @oui-message-close-button-border;
    @close-button-width: @oui-message-close-button-width;
    @close-button-height: @oui-message-close-button-height;
    @close-button-font-size: @oui-message-close-button-font-size;
    @close-button-margin: @oui-message-close-button-margin;
    @close-button-padding: @oui-message-close-button-padding;
  ) {
    position: relative;
    display: flex;
    align-items: center;
    max-width: rem-calc(1000);
    min-height: rem-calc(50);
    margin: @margin;
    padding: @padding;
    border: 2px solid @border-color;
    border-radius: @border-radius;
    background-color: @background-color;
    color: @font-color;
    font-size: @font-size;
    line-height: 1.375;
    font-weight: @font-weight;

    &__body {
      flex: 1;
      margin: 0;
    }

    &__close-button {
      #oui > .animate();

      cursor: pointer;
      position: relative;
      align-self: flex-start;
      min-width: @close-button-width;
      min-height: @close-button-height;
      overflow: hidden;
      margin: @close-button-margin;
      padding: @close-button-padding;
      border: @close-button-border;
      background-color: @close-button-background-color;
      opacity: .75;
      color: @close-button-color;
      font-size: @close-button-font-size;
      line-height: 0;
      text-align: center;

      &:before {
        display: block;
      }

      &:hover,
      &:focus,
      &:active {
        #oui > .animate();

        outline: none;
        opacity: 1;
      }
    }
  }

  .message-info(
    @font-color: @oui-message-info-font-color;
    @border-color: @oui-message-info-border-color;
    @background-color: @oui-message-info-background-color;
    @icon-color: @oui-message-info-icon-color;
    @icon-size: @oui-message-info-icon-size;
    @icon-position-top: @oui-message-info-icon-position-top;
    @icon-position-left: @oui-message-info-icon-position-left;
    @padding: @oui-message-info-padding;
  ) {
    padding: @padding;
    border-color: @border-color;
    background-color: @background-color;
    color: @font-color;
    
    .oui-icon-info_circle {
      position: absolute;
      display: block;
      top: @icon-position-top;
      left: @icon-position-left;
      color: @icon-color;
      font-size: @icon-size;
    }

    .oui-tip-top {
      &:after {
        border-bottom-color: @background-color;
      }

      &:before {
        border-bottom-color: @border-color;
      }
    }

    .oui-tip-right {
      &:after {
        border-left-color: @background-color;
      }

      &:before {
        border-left-color: @border-color;
      }
    }

    .oui-tip-bottom {
      &:after {
        border-top-color: @background-color;
      }

      &:before {
        border-top-color: @border-color;
      }
    }

    .oui-tip-left {
      &:after {
        border-right-color: @background-color;
      }

      &:before {
        border-right-color: @border-color;
      }
    }
  }

  .message-success(
    @font-color: @oui-message-success-font-color;
    @border-color: @oui-message-success-border-color;
    @background-color: @oui-message-success-background-color;
    @icon-color: @oui-message-success-icon-color;
    @icon-size: @oui-message-success-icon-size;
    @icon-position-top: @oui-message-success-icon-position-top;
    @icon-position-left: @oui-message-success-icon-position-left;
    @padding: @oui-message-success-padding;
  ) {
    padding: @padding;
    border-color: @border-color;
    background-color: @background-color;
    color: @font-color;

    .oui-icon-success_circle {
      position: absolute;
      display: block;
      top: @icon-position-top;
      left: @icon-position-left;
      color: @icon-color;
      font-size: @icon-size;
    }

    .oui-tip-top {
      &:after {
        border-bottom-color: @background-color;
      }

      &:before {
        border-bottom-color: @border-color;
      }
    }

    .oui-tip-right {
      &:after {
        border-left-color: @background-color;
      }

      &:before {
        border-left-color: @border-color;
      }
    }

    .oui-tip-bottom {
      &:after {
        border-top-color: @background-color;
      }

      &:before {
        border-top-color: @border-color;
      }
    }

    .oui-tip-left {
      &:after {
        border-right-color: @background-color;
      }

      &:before {
        border-right-color: @border-color;
      }
    }
  }

  .message-warning(
    @font-color: @oui-message-warning-font-color;
    @border-color: @oui-message-warning-border-color;
    @background-color: @oui-message-warning-background-color;
    @icon-color: @oui-message-warning-icon-color;
    @icon-size: @oui-message-warning-icon-size;
    @icon-position-top: @oui-message-warning-icon-position-top;
    @icon-position-left: @oui-message-warning-icon-position-left;
    @padding: @oui-message-warning-padding;
  ) {
    padding: @padding;
    border-color: @border-color;
    background-color: @background-color;
    color: @font-color;
    
    .oui-icon-warning_circle {
      position: absolute;
      display: block;
      top: @icon-position-top;
      left: @icon-position-left;
      color: @icon-color;
      font-size: @icon-size;
    }

    .oui-tip-top {
      &:after {
        border-bottom-color: @background-color;
      }

      &:before {
        border-bottom-color: @border-color;
      }
    }

    .oui-tip-right {
      &:after {
        border-left-color: @background-color;
      }

      &:before {
        border-left-color: @border-color;
      }
    }

    .oui-tip-bottom {
      &:after {
        border-top-color: @background-color;
      }

      &:before {
        border-top-color: @border-color;
      }
    }

    .oui-tip-left {
      &:after {
        border-right-color: @background-color;
      }

      &:before {
        border-right-color: @border-color;
      }
    }
  }

  .message-error(
    @font-color: @oui-message-error-font-color;
    @border-color: @oui-message-error-border-color;
    @background-color: @oui-message-error-background-color;
    @icon-color: @oui-message-error-icon-color;
    @icon-size: @oui-message-error-icon-size;
    @icon-position-top: @oui-message-error-icon-position-top;
    @icon-position-left: @oui-message-error-icon-position-left;
    @padding: @oui-message-error-padding;
  ) {
    padding: @padding;
    border-color: @border-color;
    background-color: @background-color;
    color: @font-color;
    
    .oui-icon-error_circle {
      position: absolute;
      display: block;
      top: @icon-position-top;
      left: @icon-position-left;
      color: @icon-color;
      font-size: @icon-size;
    }

    .oui-tip-top {
      &:after {
        border-bottom-color: @background-color;
      }

      &:before {
        border-bottom-color: @border-color;
      }
    }

    .oui-tip-right {
      &:after {
        border-left-color: @background-color;
      }

      &:before {
        border-left-color: @border-color;
      }
    }

    .oui-tip-bottom {
      &:after {
        border-top-color: @background-color;
      }

      &:before {
        border-top-color: @border-color;
      }
    }

    .oui-tip-left {
      &:after {
        border-right-color: @background-color;
      }

      &:before {
        border-right-color: @border-color;
      }
    }
  }
  
  .message-icon-2x(
    @padding: @oui-message-icon-2x-padding;
    @icon-2x-size: @oui-message-icon-2x-size;
    @icon-2x-position-top: @oui-message-icon-2x-position-top;
    @icon-2x-position-left: @oui-message-icon-2x-position-left;
  ) {
    padding: @padding;

    .oui-icon:not(.oui-icon-close) {
      position: absolute;
      display: block;
      top: @icon-2x-position-top;
      left: @icon-2x-position-left;
      font-size: @icon-2x-size;
    }
  }

  .message-no-icon(
    @padding: @oui-message-no-icon-padding;
  ) {
    padding: @padding;

    &:before {
      content: "";
    }
  }
}
